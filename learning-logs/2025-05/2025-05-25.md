# 2025-05-25 Atomic Design実践まとめ（Next.js + TypeScript）

## 1. Atomic Designの流れを実践
- Atom（Button, Input, Label）を作成し、最小単位のUI部品の再利用性を体験
- Molecule（LabeledInput, SearchForm）でAtomを組み合わせ、より実用的な部品を作成
- Organism（SearchSection）でMoleculeやAtomをまとめ、検索セクションのような大きなUIを構成
- Template（MainTemplate）で全体レイアウトを定義し、Page（page.tsx）で実際のページを構築

## 2. 実装上のポイント
- ディレクトリを `src/components/atoms/`, `molecules/`, `organisms/`, `templates/` に分割し、役割ごとに整理
- useStateなどのReactフックを使う場合は、"use client" ディレクティブをファイル先頭に追加する必要がある（Next.js App Routerの仕様）
- propsの型定義を明確にし、型安全なコンポーネント設計を意識
- MoleculeやOrganismは、Atomをimportして組み合わせるだけで簡単に再利用・拡張できる

## 3. 学び・気づき
- Atomic Designを意識することで、UI部品の再利用性・保守性が大きく向上する
- 小さな部品から大きな部品へと段階的に組み上げることで、設計の見通しが良くなる
- Next.jsのApp Routerでは、クライアントコンポーネントとサーバーコンポーネントの違いに注意が必要
- Template/Page層を作ることで、全体レイアウトやページ単位の責務分離がしやすくなる

## 4. 今後の展望・やりたいこと
- Storybook導入によるUI部品のカタログ化
- スタイリング（CSS Modules, styled-components, Tailwind CSSなど）の強化
- 他のOrganismやTemplateの追加、実データ/API連携の練習
- 実務プロジェクトへのAtomic Designパターンの応用

## 5. Storybook導入とトラブル対応
- Storybookを導入し、Atomic Designで作成した各コンポーネント（Atom/Molecule/Organism）をUIカタログ化できた
- ストーリーファイル（*.stories.tsx）を作成し、propsやイベントのバリエーションを可視化
- PostCSS v4以降の仕様変更により、`tailwindcss`のPostCSSプラグインは`@tailwindcss/postcss`を使う必要があることを学んだ
- postcss.config.mjsのplugins配列には、importしたプラグイン本体を入れる必要がある（文字列やrequireはNG）
- 依存パッケージの不整合やキャッシュの問題でStorybookが正しく動作しない場合、`node_modules`や`.cache`の削除・再インストールが有効
- import/exportのミス（default exportとnamed exportの混同）がStorybookの500エラーやプレビュー不具合の原因になることを体験
- エラー時はターミナルやブラウザのエラーメッセージをよく確認し、原因を特定することが重要

## 6. スタイリング強化の学び
- Tailwind CSSを使い、Button, Input, Label, Molecule, Organismなど各コンポーネントにデザインの統一感を意識してクラスを適用した
- フォーム部品には`px-3 py-2 border rounded focus:outline-none focus:ring`などのクラスを使い、アクセシビリティや操作感も向上
- Organism（SearchSection）では`bg-white p-6 rounded shadow`などでカード風の見た目を実現
- Storybook上で各コンポーネントの見た目やバリエーションを確認し、UIの統一感や使いやすさをチェックできた
- 一部、色やコントラストが薄くなりすぎるなどの課題もあったが、今回は設計・機能を優先し、デザイン調整は後回しとした
- 今後はカラーパレットやテーマ、アクセシビリティ対応、レスポンシブデザインなども強化していきたい
